---
import Card from '@/components/Card.astro';
import IconLink from '@/components/IconLink.astro';
import Icon from '@/components/icons/index.astro';
import Tag from '@/components/Tag.astro';
import type { Project } from '@/lib';
import { IconName } from '@/lib/icons';

interface Props {
	project: Project;
	delayClass?: string;
}

const { project, delayClass = 'animate-delay-100' } = Astro.props;
---

<li>
	<Card as="article" class:list={['animate-on-scroll flex flex-col gap-3 h-full', delayClass]}>
		<div class="flex items-start justify-between">
			<h3 class="font-medium text-foreground">{project.title}</h3>
			<div class="flex gap-2">
				<IconLink href={project.github} label={`GitHub repository for ${project.title}`} external>
					<Icon name={IconName.GITHUB} size={18} />
				</IconLink>
				<IconLink href={project.live} label={`Live demo for ${project.title}`} external>
					<Icon name={IconName.EXTERNAL_LINK} size={14} />
				</IconLink>
			</div>
		</div>
		<p class="text-sm text-muted flex-grow">{project.description}</p>
		<div class="flex flex-wrap gap-2">
			{project.tags.map(tag => <Tag>{tag}</Tag>)}
		</div>
	</Card>
</li>
